{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | {{ title }}{% endblock %}

{% block body %}
 
    <section id="cart">
        {{include('partials/_navbarMenu.html.twig')}}
        <div class="container-fluid pt-4">
            <div class="p-3 ms-2">
                <h2>Votre panier</h2>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Produit</th>
                            <th>Prix</th>
                            <th>Quantit√©</th>
                            <th>Total</th>
                            <th>Actions</th>                     
                        </tr>
                    </thead>
                    <tbody>
                    {# {{dump(cardData, total)}} #}
                    {% for data in cardData %}
                        <tr>
                            <td>{{ data.product.name|capitalize }}</td>
                            <td>{{ data.product.priceTTC }} &euro;</td>
                            <td>{{ data.quantity }}</td>
                            <td>{{ data.quantity * data.product.priceTTC }} &euro;</td>
                            <td>
                                <a href="{{path('cart_add', {'id': data.product.id })}}" class="btn btn-light"><i class="fa-solid fa-plus"></i></a>
                                {# <a href="{{path('cart_remove', {'id': data.product.id })}}" class="btn btn-light"><i class="fa-solid fa-minus"></i></a>
                                <a href="{{path('cart_remove_all', {'id': data.product.id })}}" class="btn btn-light"><i class="fa-solid fa-trash"></i></a> #}
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5" class="text-center">Votre panier est vide.</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="3">Total</td>
                            <td>{{total}} &euro;</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
           
        </div>
    
    </section>

{% endblock %}

