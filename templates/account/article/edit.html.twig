{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | {{ title }}{% endblock %}

{% block body %}
 
    <section id="editArticle">
      
            {{include('partials/_navbarMenu.html.twig')}}

        <div class="container-fluid wrapper">
            
            {{include('partials/_sidebarMenuProfile.html.twig')}}  
            
            <div class="row">
            <h3>Modification de l'article <i>"{{article.title}}"</i> </h3> 
                <div class="col-md-6 col-sm-12">
                    <h5><i class="fa-solid fa-pen"></i> Contenu de l'article</h5>
                    {{form_start(form)}}
                        {{form_row(form.title)}}
                        {{form_row(form.category)}}   
                        {{form_row(form.content)}}
                         {% if is_granted("ROLE_ADMIN") %}
                            {{form_row(form.adminNews)}}
                        {% endif %}
                </div>
               
                <div class="col-md-6 col-sm-12">
                    <h5><i class="fa-solid fa-film"></i> Ajouter ou modifier une vidéo...</h5>
                        {{form_row(form.video.title)}}
                        {{form_row(form.video.source)}}
                        
                        <h5><i class="fa-brands fa-youtube"></i></i> ...Ou insérez un lien Youtube</h5>
                        {{form_row(form.video.link)}}
                                           
                    <h5 class="mt-3"><i class="fa-solid fa-images"></i> Ajouter ou supprimer des images</h5>
                       
                        {{ form_row(form.images) }} 

                </div> 
                    <div>
                        <a href="{{path('account_articles')}}" class="btn btn-dark btn-lg"><i class="fa-solid fa-chevron-left"></i> Retour</a>
                        <button type="submit" class="btn btn-warning btn-lg m-3">Modifier</button>
                    </div>
                    
                    {{form_end(form)}}
            </div>
                
        </div>
 
    </section>

     <script>
    // loader le temps que l'upload se fasse , avant la redirection
    const button = document.getElementById("submitArticle");
    const loader = document.getElementById("overlayLoading");
        
    loader.classList.add('d-none');

    button.addEventListener('click', function(e){
        loader.classList.remove('d-none');
        loader.classList.add('d-block');
    });
    
    const typeWriter = document.getElementById('typewriter-text');
    const text = 'Veuillez patienter...';

    typeWriter.innerHTML = text;
    typeWriter.style.setProperty('--characters', text.length);
        
   
    </script>
{% endblock %}








